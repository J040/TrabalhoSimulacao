<html>
    <head>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <style>
 
        </style>
    </head>

    <body>
            <body>
                <div class="col-md-12">
                    <div class="pull-left">
                       <canvas id="canvas" style="backGround-color: black; padding: 30px"></canvas>
                    </div>
                    <div class="pull-left" style="margin-left: 20px">
                       <!-- <input id="apagar" style="background-color: white; margin-bottom: 10px; margin-top:40px" type="checkbox">Apagar<br>
                       <input id="inicio" style="background-color: white; margin-bottom: 10px" type="checkbox">Inicio<br>
                       <input id="fim"   style="background-color: white; margin-bottom: 10px" type="checkbox">Fim<br>
                       <input id="parede" style="background-color: white; margin-bottom: 10px" type="checkbox">Parede<br> -->
                       

                       <form action="#">
                        <p>
                          <input name="group1" type="radio" id="apagar" />
                          <label for="test1">Apagar</label>
                        </p>
                        <p>
                          <input name="group1" type="radio" id="inicio" />
                          <label for="test2">Inicio</label>
                        </p>
                        <p>
                          <input class="with-gap" name="group1" type="radio" id="fim"  />
                          <label for="test3">Fim</label>
                        </p>
                        <p>
                          <input name="group1" type="radio" id="parede"/>
                          <label for="test4">Parede</label>
                        </p>
                      </form>


                    </div>
                </div>
            </body>
    </body>
    <script  src="graph.js"></script>
    <script>
    
var tam = 15;  
var batata = "algo";  
var matriz = new Array(tam);

for (var i = 0; i < tam; i++) {
    matriz[i] = new Array(tam);
    for (var j = 0; j < tam; j++) {
        matriz[i][j] = 0;
    }    
}

$('#apagar').on('click', function () {
    type = 0;
});

$('#inicio').on('click', function () {
    type = 1;
});

$('#fim').on('click', function () {
    type = 2;
});

$('#parede').on('click', function () {
    type = 3;
});


var canvas = document.getElementById("canvas");
var my_context = canvas.getContext('2d');
canvas.width = 700;
canvas.height = 700;

//my_context.rect(0, 0, 225, 225);
my_context.stroke();
my_context.fillStyle = "white";
my_context.backgroundColor = "green";

var xvalue = 0;
var yvalue = 0;

for (var y = 0; y < tam; y++) {
  for (var x = 0; x < tam; x++) {
    my_context.fillRect(xvalue, yvalue, 40, 40);
    xvalue += 41;
  }
  xvalue = 0;
  yvalue += 41;
}

var type = 3;
var jaTemInicio = false;
var jaTemFim = false;



var clicking = false;

$(canvas).mousedown(function(e){
    clicking = true;
    var x = e.offsetX - 30;
    var y = e.offsetY - 30;
    
    //console.log(x)
    //console.log(y)
    for (var i = 0;  i < tam; i++) {
        for (var j = 0;  j < tam; j++) {
            if(x >= i * 40 && x <= ((i + 1) * 40) && y >= j * 40 && y <= ((j + 1) * 40)){ 

            switch(type){
            case 0:
                my_context.fillStyle = "white";
                if(  matriz[j][i] == 1){
                    jaTemInicio = false;
                }
                if(  matriz[j][i] == 2){
                    jaTemFim = false;
                }
                matriz[j][i] = 0;
                break;
            case 1:
                my_context.fillStyle = "green";
                if(jaTemInicio){
                    return;
                }
                jaTemInicio = true;
                
                matriz[j][i] = 1;
                break;
            case 2:
                my_context.fillStyle = "red";
                if(jaTemFim){
                    return;
                }
                jaTemFim = true;
                matriz[j][i] = 2;
                break;
            case 3:
                my_context.fillStyle = "grey";
                matriz[j][i] = 3;
                break;            
            }

                // if(matriz[j][i] == 1){
                //     return;
                // }
                my_context.fillRect(i *40 + i, j * 40 + j , 40, 40);
                return;
            }
        }
    }

    
});

$(document).mouseup(function(){
    clicking = false;
})

$(canvas).mousemove(function(e){
    if(clicking == false) return;

    var x = e.offsetX - 30;
    var y = e.offsetY - 30;
    
    //console.log(x)
    //console.log(y)
    for (var i = 0;  i < tam; i++) {
        for (var j = 0;  j < tam; j++) {
            if(x >= i * 40 && x <= ((i + 1) * 40) && y >= j * 40 && y <= ((j + 1) * 40)){ 

            switch(type){
            case 0:
                my_context.fillStyle = "white";
                if(  matriz[j][i] == 1){
                    jaTemInicio = false;
                }
                if(  matriz[j][i] == 2){
                    jaTemFim = false;
                }
                matriz[j][i] = 0;
                break;
            case 1:
                my_context.fillStyle = "green";
                if(jaTemInicio){
                    return;
                }
                jaTemInicio = true;
                
                matriz[j][i] = 1;
                break;
            case 2:
                my_context.fillStyle = "red";
                if(jaTemFim){
                    return;
                }
                jaTemFim = true;
                matriz[j][i] = 2;
                break;
            case 3:
                my_context.fillStyle = "grey";
                matriz[j][i] = 3;
                break;            
            }

                // if(matriz[j][i] == 1){
                //     return;
                // }
                my_context.fillRect(i *40 + i, j * 40 + j , 40, 40);
                return;
            }
        }
    }


});



$(canvas).on('click', function(e) {
    
    //console.log(e.offsetX);
    //console.log(e.offsetY);
      
   // var x = Math.trunc(e.offsetX  / 40) * 40 + Math.trunc(e.offsetX / 40);
   // var y = Math.trunc(e.offsetY / 40) * 40 + Math.trunc(e.offsetY / 40);

  
    
    
})

var map = {a:{b:1,d:1},b:{e:1},e:{c:1},c:{},d:{c:1}},
    graph = new Graph(map);

     

    var map = new Array();
    var cont = 0;
     var transformarEmUmGrafoLegivelPeloAlgoritmoDijkstra = function () {

        for (var i = 0; i < matriz.length; i++) {
           for (var j = 0; j < matriz[i].length; j++) {
               
                switch(matriz[i][j]){
                    case 0:
                       

                    break;
                }
               
           }
            
        }

        console.log(map);
     }


    </script>
</html>
    